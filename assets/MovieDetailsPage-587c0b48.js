import{j as l,a as e,R as y,F as v,r as x,u as f,b as N,L as w,B as p,c as _}from"./index-562efa82.js";function u({onClick:t,children:i,className:n,title:s}){return l("button",{className:`px-4 py-2 text-white bg-green-500 font-bold text-2xl rounded-md mt-4 flex items-baseline ${n}`,onClick:t,title:s,children:[e("svg",{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 fill-gray-700",children:l("g",{children:[e("path",{d:"M90,54a5.9966,5.9966,0,0,0-6,6V78H12V60A6,6,0,0,0,0,60V84a5.9966,5.9966,0,0,0,6,6H90a5.9966,5.9966,0,0,0,6-6V60A5.9966,5.9966,0,0,0,90,54Z"}),e("path",{d:"M43.7578,64.2422a5.9979,5.9979,0,0,0,8.4844,0l18-18a5.9994,5.9994,0,0,0-8.4844-8.4844L54,45.5156V12a6,6,0,0,0-12,0V45.5156l-7.7578-7.7578a5.9994,5.9994,0,0,0-8.4844,8.4844Z"})]})}),i]})}function k({openModal:t,closeModal:i,children:n}){return t?y.createPortal(l(v,{children:[e("div",{className:"fixed inset-0 z-[999px] bg-gray-600 opacity-75",onClick:i}),e("div",{className:"fixed top-[50%] left-[50%] z-[999px] -translate-x-1/2 -translate-y-1/2 bg-white p-8 rounded-md",children:n})]}),document.getElementById("modal")):null}function M(t){var g,m,b;const[i,n]=x.useState(!1),{movies:s,query:c,setQuery:h}=f(),o=N(),r=()=>n(!1);return l("div",{className:"mb-4 relative md:static",children:[l("div",{className:"md:hidden",children:[e("h1",{className:"font-extrabold text-3xl mb- ",children:t.title_english}),e("p",{className:"text-lg font-medium text-gray-500",children:t.year}),e("div",{className:"text-lg mb-4 font-medium text-gray-500",children:(g=t.genres)==null?void 0:g.map((a,d)=>l("span",{className:"",children:[a,t.genres.length>0&&t.genres.length-1!==d?" / ":""]},d))})]}),l("div",{className:"flex ",children:[e("img",{src:t.medium_cover_image,alt:t.slug,width:210,height:315,loading:"lazy",className:"rounded-md object-cover w-[210px] h-[auto] bg-gray-500 border-2 border-black"}),l("div",{className:"ml-4 md:ml-8",children:[l("div",{className:"md:block hidden",children:[e("h1",{className:"font-extrabold text-5xl mb-4 ",children:t.title_english}),e("p",{className:"text-lg font-medium text-gray-500",children:t.year}),e("div",{className:"text-lg mb-4 font-medium text-gray-500",children:(m=t.genres)==null?void 0:m.map((a,d)=>l("span",{className:"",children:[a,t.genres.length>0&&t.genres.length-1!==d?" / ":""]},d))})]}),l("div",{children:[e("span",{className:"md:text-xl text-lg",children:"Available in : "}),(b=t.torrents)==null?void 0:b.map((a,d)=>l("span",{children:[e("span",{className:"rounded-md border border-gray-400 px-2 md:px-4 py-1 md:mr-2 font-medium hover:text-green-400 hover:border-gray-900 duration-300 ease-in-out md:inline-block mt-2 hidden",title:`Download ${t.title_long} ${a.quality} Torrent`,children:l("a",{href:a.url,children:[a.quality," ",e("span",{className:"uppercase",children:a.type})]})}),e(u,{className:"text-base bg-transparent border text-black border-black rounded-none py-1 md:hidden",children:e("a",{href:a.url,children:a.quality})})]},a.hash))]}),e(u,{onClick:()=>n(!0),className:"hidden md:flex",children:"Download"}),i&&l(k,{openModal:i,closeModal:r,children:[e("h2",{className:"font-bold text-center text-green-600 text-xl mb-4",children:"Select Movie Quality"}),e("div",{className:"flex justify-center",children:t.torrents.map((a,d)=>l("div",{className:`${d<t.torrents.length-1?"border-r-2":""} p-4 text-center`,children:[e("p",{className:"uppercase font-bold mb-4 text-xl",children:a.type}),e("p",{className:"text-gray-400 text-lg",children:"File Size"}),e("p",{className:"font-bold text-xl mt-2",children:a.size}),e(u,{onClick:r,className:"text-lg",title:`Download ${t.title_long} ${a.quality} Torrent`,children:e("a",{href:a.url,children:"Download"})})]},a.hash))})]})]})]}),e("div",{className:"hidden sm:block mt-4 w-full",children:e("div",{children:e("iframe",{className:"bg-gray-400",width:516,height:315,src:`https://www.youtube.com/embed/${t.yt_trailer_code}`,title:`${t.title_english} youtube trailer`,"aria-label":`${t.title_english} youtube trailer`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})}),e("h3",{className:"font-bold text-2xl mt-4 ",children:"Plot Summary"}),e("p",{className:"text-lg text-gray-600",children:t.description_full}),c.length!==0&&s.length!==0&&e("div",{className:"bg-gray-300/20 w-[300px] overflow-hidden overflow-y-auto max-h-[200px] md:max-h-96 shadow-md hide flex flex-col gap-2 px-1 absolute -top-6 md:top-16 -right-4 md:right-0 z-10 backdrop-blur-sm",children:s.slice(0,15).map(a=>e(w,{to:`${p}movies/${a.slug}`,onClick:()=>h(""),children:l("div",{className:"grid grid-cols-[50px_1fr]  border-b-2",children:[e("div",{children:e("img",{src:a.medium_cover_image,alt:a.slug,width:50,height:50,loading:"lazy",className:"rounded-md object-cover bg-gray-500 border-2"})}),l("div",{className:"ml-2 mt-2",children:[e("h2",{className:"font-bold text- leading-4 mb-1",children:a.title_english}),e("p",{className:"text-sm",children:a.year})]})]},a.id)}))}),e("div",{className:"flex justify-center mt-4",children:e("button",{className:"bg-black hover:bg-gray-900 text-white px-6 py-2 rounded-md",onClick:()=>o(-1),children:"Back"})})]})}function j(){var o;const[t,i]=x.useState({}),n=_(),{movies:s}=f(),c=((o=s.find(r=>r.slug===n.id))==null?void 0:o.id)||"";x.useEffect(()=>{let r=!0;return c!==""&&r&&h(c),()=>{r=!1}},[c]);const h=async r=>{const m=await(await fetch(`https://yts.mx/api/v2/movie_details.json?movie_id=${r}&with_images=true&with_cast=true`)).json();m.status==="ok"&&i(m.data.movie)};return e("div",{children:e(M,{...t})})}export{j as default};
